<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.0/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"RAG","children":[{"content":"RAG-检索增强生成大纲","children":[{"content":"LLM的局限性","children":[],"payload":{"lines":"4,5"}},{"content":"RAG概念","children":[],"payload":{"lines":"6,7"}},{"content":"RAG类比","children":[],"payload":{"lines":"8,9"}},{"content":"为什么会用到RAG","children":[],"payload":{"lines":"10,11"}}],"payload":{"lines":"2,3"}},{"content":"prompt","children":[],"payload":{"lines":"12,13"}},{"content":"RAG系统工作流程图解","children":[],"payload":{"lines":"14,15"}},{"content":"RAG系统搭建流程","children":[{"content":"1. 加载文本与切割","children":[],"payload":{"lines":"20,21"}},{"content":"2. 灌库构建检索引擎","children":[],"payload":{"lines":"22,23"}},{"content":"3. 封装检索接口","children":[],"payload":{"lines":"24,25"}},{"content":"4. 构建调用流程","children":[],"payload":{"lines":"26,27"}}],"payload":{"lines":"18,19"}},{"content":"关键字检索的局限性","children":[],"payload":{"lines":"28,29"}},{"content":"RAG进阶","children":[{"content":"在检索中:文本分割的粒度","children":[],"payload":{"lines":"32,33"}},{"content":"在检索后:rank排序","children":[],"payload":{"lines":"34,35"}}],"payload":{"lines":"30,31"}},{"content":"<a href=\"vector-seach.md\">向量检索</a>","children":[{"content":"1. 基本概念","children":[{"content":"\n<p data-lines=\"40,41\">什么是向量检索</p>","children":[{"content":"\n<p data-lines=\"42,43\">向量（embedding）的定义</p>","children":[],"payload":{"lines":"42,44"}},{"content":"\n<p data-lines=\"44,45\">向量检索的基本原理</p>","children":[],"payload":{"lines":"44,46"}}],"payload":{"lines":"40,46"}},{"content":"\n<p data-lines=\"46,47\">向量检索的重要性</p>","children":[{"content":"\n<p data-lines=\"48,49\">数据增长趋势</p>","children":[],"payload":{"lines":"48,50"}},{"content":"\n<p data-lines=\"50,51\">非结构化数据处理的挑战</p>","children":[],"payload":{"lines":"50,52"}},{"content":"\n<p data-lines=\"52,53\">向量检索的优势</p>","children":[],"payload":{"lines":"52,54"}}],"payload":{"lines":"46,54"}}],"payload":{"lines":"38,39"}},{"content":"2. 向量检索的应用场景","children":[{"content":"\n<p data-lines=\"56,57\">传统应用场景</p>","children":[{"content":"\n<p data-lines=\"58,59\">图片搜索</p>","children":[],"payload":{"lines":"58,60"}},{"content":"\n<p data-lines=\"60,61\">音乐识别</p>","children":[],"payload":{"lines":"60,62"}}],"payload":{"lines":"56,62"}},{"content":"\n<p data-lines=\"62,63\">结合大模型的应用场景</p>","children":[{"content":"\n<p data-lines=\"64,65\">大模型推理</p>","children":[],"payload":{"lines":"64,66"}},{"content":"\n<p data-lines=\"66,67\">检索增强生成（RAG）</p>","children":[],"payload":{"lines":"66,68"}},{"content":"\n<p data-lines=\"68,69\">跨模态应用</p>","children":[],"payload":{"lines":"68,70"}}],"payload":{"lines":"62,70"}}],"payload":{"lines":"54,55"}},{"content":"3. 向量检索的技术实现","children":[{"content":"\n<p data-lines=\"72,73\">向量索引</p>","children":[{"content":"\n<p data-lines=\"74,75\">实现方法一: 可扩展的最近邻搜索kNN</p>","children":[{"content":"\n<p data-lines=\"76,77\">效率非常低</p>","children":[],"payload":{"lines":"76,78"}},{"content":"\n<p data-lines=\"78,79\">暴力检索</p>","children":[],"payload":{"lines":"78,80"}},{"content":"\n<p data-lines=\"80,81\">检索质量高</p>","children":[],"payload":{"lines":"80,82"}}],"payload":{"lines":"74,82"}},{"content":"\n<p data-lines=\"82,83\">实现方式二: 近似最近邻搜索ANN</p>","children":[{"content":"\n<p data-lines=\"84,85\">倒排文件索引</p>","children":[{"content":"\n<p data-lines=\"86,87\">方法: IVF</p>","children":[],"payload":{"lines":"86,88"}},{"content":"\n<p data-lines=\"88,89\">问题: 内存占用太大</p>","children":[{"content":"","children":[{"content":"保存每个向量的坐标","children":[],"payload":{"lines":"90,92"}},{"content":"\n<p data-lines=\"92,93\">解决: 量化 (Quantization) 有损压缩</p>","children":[{"content":"比如: 将聚类中心里面每一个向量都用聚类中心的向量来表示","children":[],"payload":{"lines":"94,96"}}],"payload":{"lines":"92,96"}}],"payload":{"lines":"90,96"}},{"content":"","children":[{"content":"维护聚类中心和每个向量的聚类中心索引","children":[],"payload":{"lines":"96,98"}},{"content":"\n<p data-lines=\"98,99\">问题: 高维坐标中的维度灾难问题</p>","children":[{"content":"\n<p data-lines=\"100,101\">维度灾难: 维度越高, 会需要更多的聚类中心点, 占用更多内存</p>","children":[{"content":"\n<p data-lines=\"102,103\">解决: Product Quantization (PQ) 量化乘积</p>","children":[{"content":"\n<p data-lines=\"104,105\">加快搜索速度</p>","children":[],"payload":{"lines":"104,106"}},{"content":"\n<p data-lines=\"106,107\">减少内存开销</p>","children":[],"payload":{"lines":"106,108"}},{"content":"\n<p data-lines=\"108,109\">降低搜索质量</p>","children":[],"payload":{"lines":"108,110"}}],"payload":{"lines":"102,110"}}],"payload":{"lines":"100,110"}}],"payload":{"lines":"98,110"}}],"payload":{"lines":"96,110"}}],"payload":{"lines":"88,110"}}],"payload":{"lines":"84,110"}},{"content":"\n<p data-lines=\"110,111\">基于树的索引</p>","children":[{"content":"\n<p data-lines=\"112,113\">方法: Annoy (Approximate Nearest Neighbours Oh Yeah)</p>","children":[{"content":"特点: 低维数据表现好, 高维数据准确度不高","children":[],"payload":{"lines":"114,116"}}],"payload":{"lines":"112,116"}}],"payload":{"lines":"110,116"}},{"content":"\n<p data-lines=\"116,117\">基于图的索引</p>","children":[{"content":"\n<p data-lines=\"118,119\">Hierarchical Navigable Small Worlds (HNSW) 以空间换时间</p>","children":[{"content":"\n<p data-lines=\"120,121\">类似跳表算法</p>","children":[],"payload":{"lines":"120,122"}},{"content":"\n<p data-lines=\"122,123\">分层格式</p>","children":[{"content":"\n<p data-lines=\"124,125\">低层: 准确搜索</p>","children":[],"payload":{"lines":"124,126"}},{"content":"\n<p data-lines=\"126,127\">高层: 快速搜索</p>","children":[],"payload":{"lines":"126,128"}}],"payload":{"lines":"122,128"}},{"content":"\n<p data-lines=\"128,129\">效果</p>","children":[{"content":"\n<p data-lines=\"130,131\">搜索质量高</p>","children":[],"payload":{"lines":"130,132"}},{"content":"\n<p data-lines=\"132,133\">搜索速度快</p>","children":[],"payload":{"lines":"132,134"}},{"content":"\n<p data-lines=\"134,135\">内存开销大</p>","children":[],"payload":{"lines":"134,136"}}],"payload":{"lines":"128,136"}}],"payload":{"lines":"118,136"}}],"payload":{"lines":"116,136"}},{"content":"\n<p data-lines=\"136,137\">图/树结合</p>","children":[{"content":"近邻图 (Neighborhood Graph and Trees, NGT) 索引","children":[],"payload":{"lines":"138,140"}}],"payload":{"lines":"136,140"}},{"content":"\n<p data-lines=\"140,141\">基于哈希的索引</p>","children":[{"content":"\n<p data-lines=\"142,143\">Locality Sensitive Hashing (LSH) 局部敏感hash</p>","children":[{"content":"\n<p data-lines=\"144,145\">增大哈希碰撞概率</p>","children":[],"payload":{"lines":"144,146"}},{"content":"\n<p data-lines=\"146,147\">高维空间解决方案</p>","children":[{"content":"Random Projection for LSH 随机投影","children":[],"payload":{"lines":"148,150"}}],"payload":{"lines":"146,150"}}],"payload":{"lines":"142,150"}}],"payload":{"lines":"140,150"}}],"payload":{"lines":"82,150"}}],"payload":{"lines":"72,150"}},{"content":"\n<p data-lines=\"150,151\">向量生成</p>","children":[{"content":"\n<p data-lines=\"152,153\">技术</p>","children":[{"content":"\n<p data-lines=\"154,155\">算法</p>","children":[{"content":"\n<p data-lines=\"156,157\">神经网络模型</p>","children":[],"payload":{"lines":"156,158"}},{"content":"\n<p data-lines=\"158,159\">Embedding 算法</p>","children":[],"payload":{"lines":"158,160"}}],"payload":{"lines":"154,160"}},{"content":"\n<p data-lines=\"160,161\">库</p>","children":[{"content":"\n<p data-lines=\"162,163\">word2vec</p>","children":[],"payload":{"lines":"162,164"}},{"content":"\n<p data-lines=\"164,165\">fastText</p>","children":[],"payload":{"lines":"164,166"}},{"content":"\n<p data-lines=\"166,167\">bert</p>","children":[],"payload":{"lines":"166,168"}}],"payload":{"lines":"160,168"}}],"payload":{"lines":"152,168"}},{"content":"\n<p data-lines=\"168,169\">可用服务</p>","children":[{"content":"\n<p data-lines=\"170,171\">openai</p>","children":[],"payload":{"lines":"170,172"}},{"content":"\n<p data-lines=\"172,173\">豆包</p>","children":[],"payload":{"lines":"172,174"}},{"content":"\n<p data-lines=\"174,175\">本地部署</p>","children":[],"payload":{"lines":"174,176"}}],"payload":{"lines":"168,176"}}],"payload":{"lines":"150,176"}},{"content":"\n<p data-lines=\"176,177\">向量度量</p>","children":[{"content":"\n<p data-lines=\"178,181\">Similarity Measurement<br>\n相似性测量<br>\n计算向量在高维空间的距离</p>","children":[{"content":"\n<p data-lines=\"182,184\">Euclidean Distance<br>\n欧几里得距离</p>","children":[],"payload":{"lines":"182,185"}},{"content":"\n<p data-lines=\"185,187\">Cosine Similarity<br>\n余弦相似度</p>","children":[],"payload":{"lines":"185,188"}},{"content":"\n<p data-lines=\"188,190\">Dot product Similarity<br>\n点积相似度</p>","children":[],"payload":{"lines":"188,191"}}],"payload":{"lines":"178,191"}}],"payload":{"lines":"176,191"}}],"payload":{"lines":"70,71"}},{"content":"向量数据库","children":[{"content":"\n<p data-lines=\"193,194\">向量数据库的作用</p>","children":[{"content":"\n<p data-lines=\"195,196\">高效的相似度搜索</p>","children":[],"payload":{"lines":"195,197"}},{"content":"\n<p data-lines=\"197,198\">处理非结构化数据</p>","children":[],"payload":{"lines":"197,199"}},{"content":"\n<p data-lines=\"199,200\">支持大规模数据处理</p>","children":[],"payload":{"lines":"199,201"}},{"content":"\n<p data-lines=\"201,202\">增强大模型的能力</p>","children":[],"payload":{"lines":"201,203"}},{"content":"\n<p data-lines=\"203,204\">动态数据处理</p>","children":[],"payload":{"lines":"203,205"}}],"payload":{"lines":"193,205"}},{"content":"\n<p data-lines=\"205,206\">内部使用向量数据库</p>","children":[],"payload":{"lines":"205,207"}},{"content":"\n<p data-lines=\"207,208\">搭建外部向量数据库服务</p>","children":[],"payload":{"lines":"207,209"}},{"content":"\n<p data-lines=\"209,210\">主流向量数据库与功能对比</p>","children":[{"content":"\n<p data-lines=\"211,212\">AI原生向量数据库</p>","children":[{"content":"\n<p data-lines=\"213,214\">Faiss</p>","children":[{"content":"支持GPU加速","children":[],"payload":{"lines":"215,217"}}],"payload":{"lines":"213,217"}},{"content":"\n<p data-lines=\"217,218\">Chroma</p>","children":[],"payload":{"lines":"217,219"}},{"content":"\n<p data-lines=\"219,220\">Milvus/Zilliz</p>","children":[],"payload":{"lines":"219,221"}},{"content":"\n<p data-lines=\"221,222\">Pinecone</p>","children":[],"payload":{"lines":"221,223"}},{"content":"\n<p data-lines=\"223,224\">Qdrant</p>","children":[],"payload":{"lines":"223,225"}},{"content":"\n<p data-lines=\"225,226\">Weaviate</p>","children":[],"payload":{"lines":"225,227"}},{"content":"\n<p data-lines=\"227,228\">Vespa</p>","children":[],"payload":{"lines":"227,229"}}],"payload":{"lines":"211,229"}},{"content":"\n<p data-lines=\"229,230\">传统数据库拓展</p>","children":[{"content":"\n<p data-lines=\"231,232\">pgvector</p>","children":[],"payload":{"lines":"231,233"}},{"content":"\n<p data-lines=\"233,234\">Cassandra</p>","children":[],"payload":{"lines":"233,235"}},{"content":"\n<p data-lines=\"235,236\">sqlite-vss</p>","children":[],"payload":{"lines":"235,237"}}],"payload":{"lines":"229,237"}},{"content":"\n<p data-lines=\"237,238\">传统搜索引擎系统扩展</p>","children":[{"content":"\n<p data-lines=\"239,240\">Elasticsearch</p>","children":[],"payload":{"lines":"239,241"}},{"content":"\n<p data-lines=\"241,242\">OpenSearch</p>","children":[],"payload":{"lines":"241,243"}}],"payload":{"lines":"237,243"}}],"payload":{"lines":"209,243"}},{"content":"\n<p data-lines=\"243,244\">和传统数据库对比</p>","children":[{"content":"\n<p data-lines=\"245,246\">传统数据库(关系型、NoSQL)</p>","children":[{"content":"\n<p data-lines=\"247,248\">数据结构:结构化数据(行、列,具有预定义的数据类型)</p>","children":[],"payload":{"lines":"247,249"}},{"content":"\n<p data-lines=\"249,250\">查询语言:类SQL/SQL拓展</p>","children":[],"payload":{"lines":"249,251"}},{"content":"\n<p data-lines=\"251,252\">常见种类</p>","children":[{"content":"\n<p data-lines=\"253,254\">PostgreSQL(行列表数据)</p>","children":[],"payload":{"lines":"253,255"}},{"content":"\n<p data-lines=\"255,256\">MongoDB(JSON文档存储数据)</p>","children":[],"payload":{"lines":"255,257"}},{"content":"\n<p data-lines=\"257,258\">Neo4j(点、边、属性存储关系)</p>","children":[],"payload":{"lines":"257,259"}}],"payload":{"lines":"251,259"}},{"content":"\n<p data-lines=\"259,260\">算法</p>","children":[{"content":"搜索(BTree索引、倒排索引)、精确匹配、排序","children":[],"payload":{"lines":"261,263"}}],"payload":{"lines":"259,263"}}],"payload":{"lines":"245,263"}},{"content":"\n<p data-lines=\"263,264\">向量数据库</p>","children":[{"content":"\n<p data-lines=\"265,266\">数据类型:非结构化数据(以向量或数组形式存储)</p>","children":[],"payload":{"lines":"265,267"}},{"content":"\n<p data-lines=\"267,268\">查询语言:特殊语法或自定义接口</p>","children":[],"payload":{"lines":"267,269"}},{"content":"\n<p data-lines=\"269,270\">应用场景:搜索、推荐系统、大模型应用等</p>","children":[],"payload":{"lines":"269,271"}}],"payload":{"lines":"263,271"}}],"payload":{"lines":"243,271"}}],"payload":{"lines":"191,192"}},{"content":"4. 向量检索的优化","children":[{"content":"\n<p data-lines=\"273,274\">算法层面优化</p>","children":[{"content":"\n<p data-lines=\"275,276\">减少距离计算次数</p>","children":[],"payload":{"lines":"275,277"}},{"content":"\n<p data-lines=\"277,278\">降低距离计算难度</p>","children":[],"payload":{"lines":"277,279"}}],"payload":{"lines":"273,279"}},{"content":"\n<p data-lines=\"279,280\">系统层面优化</p>","children":[{"content":"\n<p data-lines=\"281,282\">CPU 优化策略</p>","children":[],"payload":{"lines":"281,283"}},{"content":"\n<p data-lines=\"283,284\">FPGA 优化策略</p>","children":[],"payload":{"lines":"283,285"}},{"content":"\n<p data-lines=\"285,286\">近存储处理</p>","children":[],"payload":{"lines":"285,287"}}],"payload":{"lines":"279,287"}}],"payload":{"lines":"271,272"}},{"content":"5. 向量检索的局限性","children":[{"content":"\n<p data-lines=\"289,290\">数据维度的挑战</p>","children":[],"payload":{"lines":"289,291"}},{"content":"\n<p data-lines=\"291,292\">计算资源的消耗</p>","children":[],"payload":{"lines":"291,293"}},{"content":"\n<p data-lines=\"293,294\">实时性要求</p>","children":[],"payload":{"lines":"293,295"}}],"payload":{"lines":"287,288"}},{"content":"向量模型的本地部署","children":[{"content":"\n<p data-lines=\"297,298\">ollama</p>","children":[],"payload":{"lines":"297,299"}},{"content":"\n<p data-lines=\"299,300\">LMStudio</p>","children":[],"payload":{"lines":"299,301"}},{"content":"\n<p data-lines=\"301,302\">Xinference</p>","children":[],"payload":{"lines":"301,303"}},{"content":"\n<p data-lines=\"303,304\">vllm</p>","children":[],"payload":{"lines":"303,305"}}],"payload":{"lines":"295,296"}}],"payload":{"lines":"36,37"}}],"payload":{"lines":"0,1"}},{})</script>
</body>
</html>
